<!--
 * @fileheader.Author: Mr.J
 * @fileheader.LastModifiedBy: Mr.J
 * @Date: 2019-10-13 17:32:16
 * @LastEditors: Mr.J
 * @LastEditTime: 2019-10-13 21:21:40
 -->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Sum Strings as Numbers</title>
</head>
<script>
    // function sumStrings(a, b) {
    //     if (a == '') {
    //         return b;
    //     } else if (b == '') {
    //         return a;
    //     } else {
    //         return (parseInt(a) + parseInt(b)).toString();
    //     }
    // }


    //     function sumStrings(a, b) {
    //     if (a == '') {
    //         return b;
    //     } else if (b == '') {
    //         return a;
    //     } else {
    //         return (BigInt(a) + BigInt(b)).toString();
    //     }
    // }
    /* 
        function scientificNotationToString(param) {
            let strParam = String(param)
            let flag = /e/.test(strParam)
            if (!flag) return param

            // 指数符号 true: 正，false: 负
            let sysbol = true
            if (/e-/.test(strParam)) {
                sysbol = false
            }
            // 指数
            let index = Number(strParam.match(/\d+$/)[0])
            // 基数
            let basis = strParam.match(/^[\d\.]+/)[0].replace(/\./, '')

            if (sysbol) {
                return basis.padEnd(index + 1, 0)
            } else {
                return basis.padStart(index + basis.length, 0).replace(/^0/, '0.')
            }
        }
    */


    function sumStrings(num1, num2) {
        //去除数字前面的 0 
        while (num1.length > 1 && num1[0] === '0')
            num1 = num1.slice(1);

        while (num2.length > 1 && num2[0] === '0')
            num2 = num2.slice(1);

        //将字符串颠倒，便于计算
        num1 = num1.split('').reverse().join('');
        // console.log(num1);
        num2 = num2.split('').reverse().join('');
        // console.log(num2);

        var add = 0,
            ans = '';
            //选择最长的字符串进行循环，计算结果
        for (var i = 0, len = num1.length > num2.length ? num1.length : num2.length; i < len; i++) {
            //在相对应的数字进行计算
            var a = i < num1.length ? Number(num1[i]) : 0,
                b = i < num2.length ? Number(num2[i]) : 0;

            var c = a + b + add;
            ans += c % 10;
            //用 add 进行数学中的 10进1操作
            add = c >= 10 ? 1 : 0;
        }

        if (add) ans += add;    //计算完成之后，如果add 为1，表示还有一位还没有进位，使用字符串的连接进行操作
        //最后的字符串颠倒重组并返回
        return ans.split('').reverse().join('');
    }



    // console.log(sumStrings('123', '456'));
    // console.log(sumStrings('000001', '5'));
    console.log(sumStrings('1267650600228229401496703205376', '1267650600228229401496703205376'));
</script>

<body>

</body>

</html>